<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
	  layout:decorator="LayoutPattern">
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="description" content="Blog www.ciceroednilson.com.br"/>
	<meta name="author" content="Cícero Ednilson"/>
 
	<title>Novo cadastro de usuário</title>
 
	<script type="text/javascript">
 
		function limparMensagem(){
 
			document.getElementById('p-mensagem-sucesso').innerHTML = '';	
		}
 
	</script>
 
</head>
<body>
 
<section layout:fragment="content">
 
 <!-- MONTANDO O GRID PARA POSICIONAR O FORMULÁRIO NO CENTRO -->   
<div class="mdl-grid">   
 <div class="mdl-layout-spacer"></div>    
 <section class="section--center mdl-grid mdl-shadow--4dp mdl-color--white">
 
  <div class="mdl-cell mdl-cell--12-col">
<div class="alinhar-centro">
  <i class="material-icons mdl-list__item-avatar">person</i>
<span style="padding-left:5px;">Novo Cadastro de Usuário</span>			  
</div>
 
<form action="#" id="formulario-cadastro" th:action="@{/user/new}" th:object="${user}" method="post">
	<fieldset>
	<ul class="mdl-list">
 
			<!-- MENSAGEM A SER MOSTRADA APÓS EXECUTARMOS O POST -->
	 <li class="mdl-list__item" th:if="${message}">						 	
	 	<p id="p-mensagem-sucesso" class="sucesso-msg" th:text="${message}" >...</p>		
	 </li>
 
	 <!-- CAMPO NOME -->
	 <li class="mdl-list__item">			 		  
		 <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
		   <input class="mdl-textfield__input" type="text" id="input-nome" th:field="*{name}" onfocus="limparMensagem()"/>
		   <label class="mdl-textfield__label" for="input-nome">Nome...</label>
		   <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="erro-msg">...</p>
		 </div>
	 </li>
 
	 <!-- CAMPO LOGIN -->
	 <li class="mdl-list__item">
		 <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
		   <input class="mdl-textfield__input" type="text" id="input-login" th:field="*{login}"/>
		   <label class="mdl-textfield__label" for="input-login">Login...</label>
		   <p th:if="${#fields.hasErrors('login')}" th:errors="*{login}" class="erro-msg">...</p>
		 </div>
	 </li>
 
	 <!-- CAMPO password -->
	 <li class="mdl-list__item">
		 <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
		   <input class="mdl-textfield__input" type="password" id="input-password" th:field="*{password}"/>
		   <label class="mdl-textfield__label" for="input-password">password...</label>
		   <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="erro-msg">...</p>
		 </div>
	 </li>
 
	 <li class="mdl-list__item">
 
	 	<table>
	 	  <tr>
	 	  	<td style="color:rgb(96,125,139)">
	 	  		<span th:text="Perfil">...</span>						 	  					 	  
	 	  	</td>
	 	  </tr>				
	 	  <!-- MONTA OS CKECKBOXS COM OS GRUPOS -->		 	
		   <th:block th:each="role, stat : ${roles}">
		      <tr>
		      	<td>
			   <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" th:for="${__${role.id}__}">
			   <input type="checkbox"									  	 
				  th:id="${__${role.id}__}"
				  th:name="|roles[${stat.index}]|"
				  th:value="${role.id}"									  		   
				  class="mdl-checkbox__input" 
				  th:checked="${role.checked}"/>
 
			    <span class="mdl-checkbox__label" th:text="${role.name}">...</span>
			    </label>
		      	</td>
		      </tr>							      							      
		   </th:block>
		   <tr><td><p th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}" class="erro-msg">...</p></td></tr>
		</table>
	 </li>
 
 </ul>
	 </fieldset>
 
<div class="mdl-grid">
  <div class="mdl-layout-spacer"></div>
  <div class="mdl-cell mdl-cell--4-col" style="padding-right:10px;">
  <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">Salvar</button>
  </div>
 </div>  
</form>
 
 
</div>
 
</section>	
    <div class="mdl-layout-spacer"></div>
</div>
 
</section>
 
</body>
 
</html>